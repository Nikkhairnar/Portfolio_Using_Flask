{% extends "base.html" %}

{% block title %}{{ skill_name|capitalize }} Projects | {{ info.name }}{% endblock %}

{% block content %}
<div class="card">
    <h2>Projects using "{{ skill_name }}"</h2>
    <p>Filter shows projects that include this skill in their tech stack.</p>
</div>

{% if projects %}
<div class="projects-grid">
    {% for project in projects %}
    <div class="project-card">
        <h3>{{ project.name }}</h3>
        <p>{{ project.description }}</p>

        <div class="tech-tags">
            {% for tech in project.tech %}
                <a class="tech-tag" href="{{ url_for('skill', skill_name=tech) }}">{{ tech }}</a>
            {% endfor %}
        </div>

        {% if project.status == 'Completed' %}
            <span class="status status-completed">{{ project.status }}</span>
        {% elif project.status == 'In Progress' %}
            <span class="status status-in-progress">{{ project.status }}</span>
        {% else %}
            <span class="status status-planned">{{ project.status }}</span>
        {% endif %}

        <div style="margin-top: 15px;">
            <a href="{{ url_for('project_detail', project_id=project.id) }}" class="btn btn-primary">View Details</a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="card">
    <div class="not-found">
        <h2>No Projects Found</h2>
        <p>None of the projects currently list "{{ skill_name }}" as part of the stack.</p>
        <p style="margin-top: 20px;">
            <a href="{{ url_for('projects') }}" class="btn btn-primary">Back to Projects</a>
        </p>
    </div>
</div>
{% endif %}
{% endblock %}

