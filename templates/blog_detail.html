{% extends "base.html" %}

{% block title %}
    {% if post %}
        {{ post.title }} | {{ info.name }}
    {% else %}
        Post Not Found | {{ info.name }}
    {% endif %}
{% endblock %}

{% block content %}
{% if post %}
<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: start; flex-wrap: wrap; gap: 15px;">
        <div>
            <h2 style="border: none; padding: 0;">{{ post.title }}</h2>
            {% if post.tags %}
            <div class="tech-tags" style="margin-top: 10px;">
                {% for tag in post.tags %}
                    <span class="tech-tag">{{ tag }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        <a href="{{ url_for('blog') }}" class="btn btn-secondary">Back to Blog</a>
    </div>
</div>

<div class="card">
    <h2>Post</h2>
    <p style="font-size: 18px; line-height: 1.6;">{{ post.content }}</p>
</div>

<div class="info-box">
    <strong>Dynamic Route:</strong>
    <p>This page is served from <code>/blog/&lt;int:post_id&gt;</code> using Jinja conditionals to show a friendly message if the post is missing.</p>
</div>
{% else %}
<div class="card">
    <div class="not-found">
        <h2>Post Not Found</h2>
        <p>Sorry, post #{{ post_id }} isn't available.</p>
        <p style="margin-top: 20px;">
            <a href="{{ url_for('blog') }}" class="btn btn-primary">Back to Blog</a>
        </p>
    </div>
</div>

<div class="info-box warning">
    <strong>Missing Post</strong>
    <p>We could not find a post with that ID. Try selecting a post from the blog list.</p>
</div>
{% endif %}
{% endblock %}

